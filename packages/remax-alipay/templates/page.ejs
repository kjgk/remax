<% for (let tpl of templates) { %>
<template name="TPL_<%=tpl.elementID%>">
  <%-tpl.content%>
</template>
<% } %>

<template name="TPL_DEFAULT">
  <text a:if="{{node.type === 'plain-text'}}">{{node.text}}</text>
</template>

<template name="TPL">
  <block a:if="{{root.children}}">
    <block a:for="{{root.children}}" key="{{item.id}}">
      <template a:if="{{item.props._eid > 0}}" is="{{'TPL_' + item.props._eid}}" data="{{ node: item }}" />
      <template a:else is="TPL_DEFAULT" data="{{ node: item }}">
    </block>
  </block>
  <template a:else is="TPL_DEFAULT" data="{{ node: root }}" />
</template>

<template is="TPL" data="{{ root: root }}" />